Bootstrap: docker
From: debian:13


%post

# Update and install packages
apt-get -y update
apt-get -y upgrade
apt-get -y install lsb-release curl gnupg

# Install LLVM
# https://apt.llvm.org
curl -LO https://apt.llvm.org/llvm.sh
chmod +x llvm.sh
./llvm.sh 21
apt-get -y install clang-21 clang++-21 flang-21

# Remove unneeded files
rm llvm.sh
apt-get -y clean
rm -rf /var/lib/apt/lists/*


%test

clang-21 --version
clang++-21 --version
flang-21 --version


%environment

export PATH=/usr/lib/llvm-21/bin:$PATH


%help

Debian 13 with LLVM 21.
